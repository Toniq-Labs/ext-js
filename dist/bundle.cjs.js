(()=>{"use strict";var qe={710:p=>{p.exports=require("bip39")},650:p=>{p.exports=require("pbkdf2")},728:p=>{p.exports=require("sjcl")}},me={};function h(p){var _=me[p];if(_!==void 0)return _.exports;var b=me[p]={exports:{}};return qe[p](b,b.exports,h),b.exports}h.n=p=>{var _=p&&p.__esModule?()=>p.default:()=>p;return h.d(_,{a:_}),_},h.d=(p,_)=>{for(var b in _)h.o(_,b)&&!h.o(p,b)&&Object.defineProperty(p,b,{enumerable:!0,get:_[b]})},h.o=(p,_)=>Object.prototype.hasOwnProperty.call(p,_);var fe={};(()=>{h.d(fe,{default:()=>De});const p=require("@dfinity/agent"),_=require("@dfinity/principal"),b=require("@dfinity/identity"),Fe=require("@dfinity/principal/lib/esm/utils/getCrc"),Se=require("@dfinity/principal/lib/esm/utils/sha224"),Ce=require("axios");var B=h.n(Ce);const Be=require("bignumber.js");var E=h.n(Be);const Ee=require("json-bigint");var Me=h.n(Ee),y=(e,t,n)=>new Promise((o,a)=>{var s=i=>{try{r(n.next(i))}catch(d){a(d)}},c=i=>{try{r(n.throw(i))}catch(d){a(d)}},r=i=>i.done?o(i.value):Promise.resolve(i.value).then(s,c);r((n=n.apply(e,t)).next())});/**
 * @file RosettaApi
 * @copyright Copyright (c) 2018-2021 Dylan Miller and dfinityexplorer contributors
 * @license MIT License
 */const Re=Me()({strict:!0}),oe=Object.freeze({NotFound:0,Timeout:1,NetworkError:2});class M extends Error{constructor(t,n){switch(super(t),n){case 408:this.errorType=oe.Timeout;break;case 500:this.errorType=oe.NotFound;break;default:this.errorType=oe.NetworkError;break}}}class ae{constructor(t,n){this.blockIndex=n,this.hash=t.transaction_identifier.hash;const o=t.metadata.timestamp.div(1e6).toNumber();this.timestamp=new Date(o);const a=t.operations;a.length>=1?(this.type=a[0].type,this.status=a[0].status,this.account1Address=a[0].account.address,this.amount=new(E())(a[0].amount.value),(a[0].type==="TRANSACTION"||a[0].type==="BURN")&&!this.amount.isZero()&&(this.amount=this.amount.negated())):(this.type="",this.status="",this.account1Address="",this.amount=new(E())(0)),a.length>=2&&a[1].type==="TRANSACTION"?this.account2Address=a[1].account.address:this.account2Address="",a.length>=3&&a[2].type==="FEE"?this.fee=new(E())(-a[2].amount.value):this.fee=new(E())(0),this.memo=new(E())(t.metadata.memo)}}class He{constructor(){this.axios=B().create({baseURL:"https://rosetta-api.internetcomputer.org/",method:"post",transformRequest:t=>Re.stringify(t),transformResponse:t=>Re.parse(t),headers:{"Content-Type":"application/json;charset=utf-8"}}),this.networkIdentifier=this.networksList().then(t=>t.network_identifiers.find(n=>n.blockchain==="Internet Computer"))}getAccountBalance(t){return y(this,null,function*(){var n;try{const o=yield this.accountBalanceByAddress(t);return new(E())(o.balances[0].value)}catch(o){return new M(o.message,B().isAxiosError(o)?(n=o==null?void 0:o.response)==null?void 0:n.status:void 0)}})}getLastBlockIndex(){return y(this,null,function*(){var t;try{return(yield this.networkStatus()).current_block_identifier.index}catch(n){return new M(n.message,B().isAxiosError(n)?(t=n==null?void 0:n.response)==null?void 0:t.status:void 0)}})}getTransaction(t){return y(this,null,function*(){var n;try{const o=yield this.transactionsByHash(t);return o.transactions.length===0?new M("Transaction not found.",500):new ae(o.transactions[0].transaction,o.transactions[0].block_identifier.index)}catch(o){return new M(o.message,B().isAxiosError(o)?(n=o==null?void 0:o.response)==null?void 0:n.status:void 0)}})}getTransactions(t,n,o){return y(this,null,function*(){var a;try{let s;n?s=n:s=(yield this.networkStatus()).current_block_identifier.index,o&&(s=Math.max(s-o,-1));const c=Math.min(t,s+1),r=[];for(let i=0;i<c;i++)r.push(yield this.getTransactionByBlock(s-i));return r}catch(s){return new M(s.message,B().isAxiosError(s)?(a=s==null?void 0:s.response)==null?void 0:a.status:void 0)}})}getTransactionsByAccount(t){return y(this,null,function*(){var n;try{const o=yield this.transactionsByAccount(t);return(yield Promise.all(o.transactions.map(s=>new ae(s.transaction,s.block_identifier.index)))).reverse()}catch(o){return new M(o.message,B().isAxiosError(o)?(n=o==null?void 0:o.response)==null?void 0:n.status:void 0)}})}getTransactionByBlock(t){return y(this,null,function*(){const n=yield this.blockByIndex(t);return new ae(n.block.transactions[0],t)})}request(t,n){return y(this,null,function*(){return(yield this.axios.request({url:t,data:n})).data})}networksList(){return this.request("/network/list",{})}networkStatus(){return y(this,null,function*(){const t=yield this.networkIdentifier;return this.request("/network/status",{network_identifier:t})})}accountBalanceByAddress(t){return y(this,null,function*(){const n=yield this.networkIdentifier;return this.request("/account/balance",{network_identifier:n,account_identifier:{address:t}})})}blockByIndex(t){return y(this,null,function*(){const n=yield this.networkIdentifier;return this.request("/block",{network_identifier:n,block_identifier:{index:t}})})}transactionsByAccount(t){return y(this,null,function*(){const n=yield this.networkIdentifier;return this.request("/search/transactions",{network_identifier:n,account_identifier:{address:t}})})}transactionsByHash(t){return y(this,null,function*(){const n=yield this.networkIdentifier;return this.request("/search/transactions",{network_identifier:n,transaction_identifier:{hash:t}})})}}var ye=Math.pow;const ge=h(728),ze=h(710),we=h(650),T="ryjl3-tyaaa-aaaaa-aaaba-cai",Ue="rrkah-fqaaa-aaaaa-aaaaq-cai",je="qoctq-giaaa-aaaaa-aaaea-cai",re="rkp4c-7iaaa-aaaaa-aaaca-cai",be=new He,_t=e=>X(re,ve(e)),ve=e=>{var t=Array.from(_.Principal.fromText(e).toUint8Array());return[t.length,...t]},pt=(e,t)=>(e<1?e=BigInt(e*ye(10,t)):e=BigInt(e)*BigInt(ye(10,t)),e),X=(e,t)=>{const n=Buffer(`
account-id`),o=new Uint8Array([...n,..._.Principal.fromText(e).toUint8Array(),...H(t)]),a=(0,Se.sha224)(o),s=se((0,Fe.getCrc32)(a)),c=new Uint8Array([...s,...a]);return I(c)},H=e=>Array.isArray(e)?e.concat(Array(32-e.length).fill(0)):Array(28).fill(0).concat(se(e||0)),Ge=e=>{for(var t,n=0;n<4;n++)t=t<<8|e[n];return t},se=e=>{let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e),Array.from(new Uint8Array(t))},I=e=>Array.from(e,function(t){return("0"+(t&255).toString(16)).slice(-2)}).join(""),ce=e=>{e.substr(0,2)==="0x"&&(e=e.substr(2));for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},Ke=e=>{var t=ze.mnemonicToSeedSync(e);return t=Array.from(t),t=t.splice(0,32),t=new Uint8Array(t),b.Ed25519KeyIdentity.generate(t)},mt=(e,t,n)=>new Promise((o,a)=>{we.pbkdf2(n,t,3e4,512,"sha512",(s,c)=>{if(s)return a(s);o(ge.encrypt(c.toString(),btoa(e)))})}),ft=(e,t,n)=>new Promise((o,a)=>{we.pbkdf2(n,t,3e4,512,"sha512",(s,c)=>{if(s)return a(s);try{o(atob(ge.decrypt(c.toString(),e)))}catch(r){a(r)}})}),ke=e=>{var t=/^[0-9a-fA-F]+$/;return t.test(e)},Nt=e=>ke(e)&&e.length===64,ht=e=>{try{return e===Principal.fromText(e).toText()}catch(t){return!1}},Rt=e=>{const t=ce(e);return Array(32-t.length).fill(0).concat(t)},We=({IDL:e})=>{const t=e.Text,n=e.Record({secs:e.Nat64,nanos:e.Nat32}),o=e.Record({max_message_size_bytes:e.Opt(e.Nat32),node_max_memory_size_bytes:e.Opt(e.Nat32),controller_id:e.Principal}),a=e.Record({e8s:e.Nat64}),s=e.Record({send_whitelist:e.Vec(e.Tuple(e.Principal)),minting_account:t,transaction_window:e.Opt(n),max_message_size_bytes:e.Opt(e.Nat32),archive_options:e.Opt(o),initial_values:e.Vec(e.Tuple(t,a))}),c=e.Record({account:t}),r=e.Vec(e.Nat8),i=e.Nat64,d=e.Record({to_subaccount:e.Opt(r),from_subaccount:e.Opt(r),to_canister:e.Principal,max_fee:a,block_height:i}),u=e.Nat64,l=e.Record({timestamp_nanos:e.Nat64}),f=e.Record({to:t,fee:a,memo:u,from_subaccount:e.Opt(r),created_at_time:e.Opt(l),amount:a});return e.Service({account_balance_dfx:e.Func([c],[a],["query"]),notify_dfx:e.Func([d],[],[]),send_dfx:e.Func([f],[i],[])})},yt=({IDL:e})=>{const t=e.Text,n=e.Record({secs:e.Nat64,nanos:e.Nat32}),o=e.Record({max_message_size_bytes:e.Opt(e.Nat32),node_max_memory_size_bytes:e.Opt(e.Nat32),controller_id:e.Principal}),a=e.Record({e8s:e.Nat64});return[e.Record({send_whitelist:e.Vec(e.Tuple(e.Principal)),minting_account:t,transaction_window:e.Opt(n),max_message_size_bytes:e.Opt(e.Nat32),archive_options:e.Opt(o),initial_values:e.Vec(e.Tuple(t,a))})]},Je=({IDL:e})=>{const t=e.Rec(),n=e.Record({id:e.Nat64}),o=e.Record({followees:e.Vec(n)}),a=e.Record({id:e.Opt(e.Principal)}),s=e.Record({neuron_minimum_stake_e8s:e.Nat64,max_proposals_to_keep_per_topic:e.Nat32,neuron_management_fee_per_proposal_e8s:e.Nat64,reject_cost_e8s:e.Nat64,transaction_fee_e8s:e.Nat64,neuron_spawn_dissolve_delay_seconds:e.Nat64,minimum_icp_xdr_rate:e.Nat64,maximum_node_provider_rewards_e8s:e.Nat64}),c=e.Record({day_after_genesis:e.Nat64,actual_timestamp_seconds:e.Nat64,distributed_e8s_equivalent:e.Nat64,settled_proposals:e.Vec(n)}),r=e.Record({to_subaccount:e.Vec(e.Nat8),neuron_stake_e8s:e.Nat64,from:e.Opt(e.Principal),memo:e.Nat64,from_subaccount:e.Vec(e.Nat8),transfer_timestamp:e.Nat64,block_height:e.Nat64}),i=e.Record({error_message:e.Text,error_type:e.Int32}),d=e.Record({vote:e.Int32,voting_power:e.Nat64}),u=e.Record({no:e.Nat64,yes:e.Nat64,total:e.Nat64,timestamp_seconds:e.Nat64}),l=e.Record({new_controller:e.Opt(e.Principal)}),f=e.Record({amount_e8s:e.Nat64}),m=e.Record({topic:e.Int32,followees:e.Vec(n)}),R=e.Record({hot_key_to_remove:e.Opt(e.Principal)}),N=e.Record({new_hot_key:e.Opt(e.Principal)}),A=e.Record({additional_dissolve_delay_seconds:e.Nat32}),g=e.Record({dissolve_timestamp_seconds:e.Nat64}),U=e.Variant({RemoveHotKey:R,AddHotKey:N,StopDissolving:e.Record({}),StartDissolving:e.Record({}),IncreaseDissolveDelay:A,SetDissolveTimestamp:g}),j=e.Record({operation:e.Opt(U)}),q=e.Record({vote:e.Int32,proposal:e.Opt(n)}),w=e.Record({dissolve_delay_seconds:e.Nat64,kyc_verified:e.Bool,amount_e8s:e.Nat64,new_controller:e.Opt(e.Principal),nonce:e.Nat64}),v=e.Record({hash:e.Vec(e.Nat8)}),x=e.Record({e8s:e.Nat64}),V=e.Record({to_account:e.Opt(v),amount:e.Opt(x)}),F=e.Variant({Spawn:l,Split:f,Follow:m,Configure:j,RegisterVote:q,DisburseToNeuron:w,MakeProposal:t,Disburse:V}),S=e.Record({id:e.Opt(n),command:e.Opt(F)}),k=e.Record({nns_function:e.Int32,payload:e.Vec(e.Nat8)}),G=e.Record({dissolve_delay_seconds:e.Nat64}),P=e.Record({to_account:e.Opt(v)}),C=e.Variant({RewardToNeuron:G,RewardToAccount:P}),K=e.Record({node_provider:e.Opt(a),reward_mode:e.Opt(C),amount_e8s:e.Nat64}),W=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o))}),J=e.Record({principals:e.Vec(e.Principal)}),D=e.Variant({ToRemove:a,ToAdd:a}),Z=e.Record({change:e.Opt(D)}),L=e.Record({motion_text:e.Text}),ee=e.Variant({ManageNeuron:S,ExecuteNnsFunction:k,RewardNodeProvider:K,SetDefaultFollowees:W,ManageNetworkEconomics:s,ApproveGenesisKyc:J,AddOrRemoveNodeProvider:Z,Motion:L});t.fill(e.Record({url:e.Text,action:e.Opt(ee),summary:e.Text}));const Y=e.Record({id:e.Opt(n),failure_reason:e.Opt(i),ballots:e.Vec(e.Tuple(e.Nat64,d)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,latest_tally:e.Opt(u),decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),executed_timestamp_seconds:e.Nat64}),$=e.Record({controller:e.Opt(e.Principal),memo:e.Nat64}),ue=e.Variant({Spawn:l,Split:f,ClaimOrRefresh:$,DisburseToNeuron:w,Disburse:V}),le=e.Record({command:e.Opt(ue),timestamp:e.Nat64}),te=e.Record({vote:e.Int32,proposal_id:e.Opt(n)}),de=e.Variant({DissolveDelaySeconds:e.Nat64,WhenDissolvedTimestampSeconds:e.Nat64}),Q=e.Record({id:e.Opt(n),controller:e.Opt(e.Principal),recent_ballots:e.Vec(te),kyc_verified:e.Bool,not_for_profit:e.Bool,maturity_e8s_equivalent:e.Nat64,cached_neuron_stake_e8s:e.Nat64,created_timestamp_seconds:e.Nat64,aging_since_timestamp_seconds:e.Nat64,hot_keys:e.Vec(e.Principal),account:e.Vec(e.Nat8),dissolve_state:e.Opt(de),followees:e.Vec(e.Tuple(e.Int32,o)),neuron_fees_e8s:e.Nat64,transfer:e.Opt(r)}),Le=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o)),wait_for_quiet_threshold_seconds:e.Nat64,node_providers:e.Vec(a),economics:e.Opt(s),latest_reward_event:e.Opt(c),to_claim_transfers:e.Vec(r),short_voting_period_seconds:e.Nat64,proposals:e.Vec(e.Tuple(e.Nat64,Y)),in_flight_commands:e.Vec(e.Tuple(e.Nat64,le)),neurons:e.Vec(e.Tuple(e.Nat64,Q)),genesis_timestamp_seconds:e.Nat64}),Ve=e.Variant({Ok:e.Null,Err:i}),et=e.Variant({Error:i,NeuronId:n}),tt=e.Record({result:e.Opt(et)}),nt=e.Variant({Ok:Q,Err:i}),Pe=e.Record({dissolve_delay_seconds:e.Nat64,recent_ballots:e.Vec(te),created_timestamp_seconds:e.Nat64,state:e.Int32,retrieved_at_timestamp_seconds:e.Nat64,voting_power:e.Nat64,age_seconds:e.Nat64}),ot=e.Variant({Ok:Pe,Err:i}),_e=e.Record({id:e.Opt(n),status:e.Int32,topic:e.Int32,failure_reason:e.Opt(i),ballots:e.Vec(e.Tuple(e.Nat64,d)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,latest_tally:e.Opt(u),reward_status:e.Int32,decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),executed_timestamp_seconds:e.Nat64}),at=e.Record({neuron_ids:e.Vec(e.Nat64),include_neurons_readable_by_caller:e.Bool}),rt=e.Record({neuron_infos:e.Vec(e.Tuple(e.Nat64,Pe)),full_neurons:e.Vec(Q)}),st=e.Record({include_reward_status:e.Vec(e.Int32),before_proposal:e.Opt(n),limit:e.Nat32,exclude_topic:e.Vec(e.Int32),include_status:e.Vec(e.Int32)}),ct=e.Record({proposal_info:e.Vec(_e)}),pe=e.Record({created_neuron_id:e.Opt(n)}),it=e.Record({proposal_id:e.Opt(n)}),ut=e.Record({transfer_block_height:e.Nat64}),lt=e.Variant({Error:i,Spawn:pe,Split:pe,Follow:e.Record({}),Configure:e.Record({}),RegisterVote:e.Record({}),DisburseToNeuron:pe,MakeProposal:it,Disburse:ut}),dt=e.Record({command:e.Opt(lt)});return e.Service({claim_gtc_neurons:e.Func([e.Principal,e.Vec(n)],[Ve],[]),claim_or_refresh_neuron_from_account:e.Func([$],[tt],[]),get_full_neuron:e.Func([e.Nat64],[nt],["query"]),get_neuron_ids:e.Func([],[e.Vec(e.Nat64)],["query"]),get_neuron_info:e.Func([e.Nat64],[ot],["query"]),get_pending_proposals:e.Func([],[e.Vec(_e)],["query"]),get_proposal_info:e.Func([e.Nat64],[e.Opt(_e)],["query"]),list_neurons:e.Func([at],[rt],["query"]),list_proposals:e.Func([st],[ct],["query"]),manage_neuron:e.Func([S],[dt],[]),transfer_gtc_neuron:e.Func([n,n],[Ve],[])})},gt=({IDL:e})=>{const t=e.Rec(),n=e.Record({id:e.Nat64}),o=e.Record({followees:e.Vec(n)}),a=e.Record({id:e.Opt(e.Principal)}),s=e.Record({neuron_minimum_stake_e8s:e.Nat64,max_proposals_to_keep_per_topic:e.Nat32,neuron_management_fee_per_proposal_e8s:e.Nat64,reject_cost_e8s:e.Nat64,transaction_fee_e8s:e.Nat64,neuron_spawn_dissolve_delay_seconds:e.Nat64,minimum_icp_xdr_rate:e.Nat64,maximum_node_provider_rewards_e8s:e.Nat64}),c=e.Record({day_after_genesis:e.Nat64,actual_timestamp_seconds:e.Nat64,distributed_e8s_equivalent:e.Nat64,settled_proposals:e.Vec(n)}),r=e.Record({to_subaccount:e.Vec(e.Nat8),neuron_stake_e8s:e.Nat64,from:e.Opt(e.Principal),memo:e.Nat64,from_subaccount:e.Vec(e.Nat8),transfer_timestamp:e.Nat64,block_height:e.Nat64}),i=e.Record({error_message:e.Text,error_type:e.Int32}),d=e.Record({vote:e.Int32,voting_power:e.Nat64}),u=e.Record({no:e.Nat64,yes:e.Nat64,total:e.Nat64,timestamp_seconds:e.Nat64}),l=e.Record({new_controller:e.Opt(e.Principal)}),f=e.Record({amount_e8s:e.Nat64}),m=e.Record({topic:e.Int32,followees:e.Vec(n)}),R=e.Record({hot_key_to_remove:e.Opt(e.Principal)}),N=e.Record({new_hot_key:e.Opt(e.Principal)}),A=e.Record({additional_dissolve_delay_seconds:e.Nat32}),g=e.Record({dissolve_timestamp_seconds:e.Nat64}),U=e.Variant({RemoveHotKey:R,AddHotKey:N,StopDissolving:e.Record({}),StartDissolving:e.Record({}),IncreaseDissolveDelay:A,SetDissolveTimestamp:g}),j=e.Record({operation:e.Opt(U)}),q=e.Record({vote:e.Int32,proposal:e.Opt(n)}),w=e.Record({dissolve_delay_seconds:e.Nat64,kyc_verified:e.Bool,amount_e8s:e.Nat64,new_controller:e.Opt(e.Principal),nonce:e.Nat64}),v=e.Record({hash:e.Vec(e.Nat8)}),x=e.Record({e8s:e.Nat64}),V=e.Record({to_account:e.Opt(v),amount:e.Opt(x)}),F=e.Variant({Spawn:l,Split:f,Follow:m,Configure:j,RegisterVote:q,DisburseToNeuron:w,MakeProposal:t,Disburse:V}),S=e.Record({id:e.Opt(n),command:e.Opt(F)}),k=e.Record({nns_function:e.Int32,payload:e.Vec(e.Nat8)}),G=e.Record({dissolve_delay_seconds:e.Nat64}),P=e.Record({to_account:e.Opt(v)}),C=e.Variant({RewardToNeuron:G,RewardToAccount:P}),K=e.Record({node_provider:e.Opt(a),reward_mode:e.Opt(C),amount_e8s:e.Nat64}),W=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o))}),J=e.Record({principals:e.Vec(e.Principal)}),D=e.Variant({ToRemove:a,ToAdd:a}),Z=e.Record({change:e.Opt(D)}),L=e.Record({motion_text:e.Text}),ee=e.Variant({ManageNeuron:S,ExecuteNnsFunction:k,RewardNodeProvider:K,SetDefaultFollowees:W,ManageNetworkEconomics:s,ApproveGenesisKyc:J,AddOrRemoveNodeProvider:Z,Motion:L});t.fill(e.Record({url:e.Text,action:e.Opt(ee),summary:e.Text}));const Y=e.Record({id:e.Opt(n),failure_reason:e.Opt(i),ballots:e.Vec(e.Tuple(e.Nat64,d)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,latest_tally:e.Opt(u),decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),executed_timestamp_seconds:e.Nat64}),$=e.Record({controller:e.Opt(e.Principal),memo:e.Nat64}),ue=e.Variant({Spawn:l,Split:f,ClaimOrRefresh:$,DisburseToNeuron:w,Disburse:V}),le=e.Record({command:e.Opt(ue),timestamp:e.Nat64}),te=e.Record({vote:e.Int32,proposal_id:e.Opt(n)}),de=e.Variant({DissolveDelaySeconds:e.Nat64,WhenDissolvedTimestampSeconds:e.Nat64}),Q=e.Record({id:e.Opt(n),controller:e.Opt(e.Principal),recent_ballots:e.Vec(te),kyc_verified:e.Bool,not_for_profit:e.Bool,maturity_e8s_equivalent:e.Nat64,cached_neuron_stake_e8s:e.Nat64,created_timestamp_seconds:e.Nat64,aging_since_timestamp_seconds:e.Nat64,hot_keys:e.Vec(e.Principal),account:e.Vec(e.Nat8),dissolve_state:e.Opt(de),followees:e.Vec(e.Tuple(e.Int32,o)),neuron_fees_e8s:e.Nat64,transfer:e.Opt(r)});return[e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o)),wait_for_quiet_threshold_seconds:e.Nat64,node_providers:e.Vec(a),economics:e.Opt(s),latest_reward_event:e.Opt(c),to_claim_transfers:e.Vec(r),short_voting_period_seconds:e.Nat64,proposals:e.Vec(e.Tuple(e.Nat64,Y)),in_flight_commands:e.Vec(e.Tuple(e.Nat64,le)),neurons:e.Vec(e.Tuple(e.Nat64,Q)),genesis_timestamp_seconds:e.Nat64})]},Ze=({IDL:e})=>{const t=e.Text,n=e.Record({name:e.Text,canister_id:e.Principal}),o=e.Variant({Ok:e.Null,CanisterAlreadyAttached:e.Null,NameAlreadyTaken:e.Null,NameTooLong:e.Null,CanisterLimitExceeded:e.Null}),a=e.Vec(e.Nat8),s=e.Record({name:e.Text,sub_account:a,account_identifier:t}),c=e.Variant({Ok:s,AccountNotFound:e.Null,NameTooLong:e.Null,SubAccountLimitExceeded:e.Null}),r=e.Record({canister_id:e.Principal}),i=e.Variant({Ok:e.Null,CanisterNotFound:e.Null}),d=e.Record({name:e.Text,account_identifier:t}),u=e.Record({account_identifier:t,hardware_wallet_accounts:e.Vec(d),sub_accounts:e.Vec(s)}),l=e.Variant({Ok:u,AccountNotFound:e.Null}),f=e.Record({name:e.Text,canister_id:e.Principal}),m=e.Nat64,R=e.Record({latest_transaction_block_height:m,seconds_since_last_ledger_sync:e.Nat64,sub_accounts_count:e.Nat64,hardware_wallet_accounts_count:e.Nat64,accounts_count:e.Nat64,earliest_transaction_block_height:m,transactions_count:e.Nat64,block_height_synced_up_to:e.Opt(e.Nat64),latest_transaction_timestamp_nanos:e.Nat64,earliest_transaction_timestamp_nanos:e.Nat64}),N=e.Record({page_size:e.Nat8,offset:e.Nat32,account_identifier:t}),A=e.Record({timestamp_nanos:e.Nat64}),g=e.Record({e8s:e.Nat64}),U=e.Record({to:t,fee:g,amount:g}),j=e.Record({fee:g,from:t,amount:g}),q=e.Variant({Burn:e.Record({amount:g}),Mint:e.Record({amount:g}),Send:U,Receive:j}),w=e.Record({memo:e.Nat64,timestamp:A,block_height:m,transfer:q}),v=e.Record({total:e.Nat32,transactions:e.Vec(w)}),x=e.Tuple(e.Text,e.Text),V=e.Record({url:e.Text,method:e.Text,body:e.Vec(e.Nat8),headers:e.Vec(x)}),F=e.Record({body:e.Vec(e.Nat8),headers:e.Vec(x),status_code:e.Nat16}),S=e.Record({name:e.Text,account_identifier:t}),k=e.Variant({Ok:e.Null,AccountNotFound:e.Null,HardwareWalletAlreadyRegistered:e.Null,HardwareWalletLimitExceeded:e.Null,NameTooLong:e.Null}),G=e.Record({account_identifier:t}),P=e.Variant({Ok:e.Null,HardwareWalletNotFound:e.Null}),C=e.Record({new_name:e.Text,account_identifier:t}),K=e.Variant({Ok:e.Null,AccountNotFound:e.Null,SubAccountNotFound:e.Null,NameTooLong:e.Null});return e.Service({add_account:e.Func([],[t],[]),attach_canister:e.Func([n],[o],[]),create_sub_account:e.Func([e.Text],[c],[]),detach_canister:e.Func([r],[i],[]),get_account:e.Func([],[l],["query"]),get_canisters:e.Func([],[e.Vec(f)],["query"]),get_icp_to_cycles_conversion_rate:e.Func([],[e.Nat64],["query"]),get_stats:e.Func([],[R],["query"]),get_transactions:e.Func([N],[v],["query"]),http_request:e.Func([V],[F],["query"]),register_hardware_wallet:e.Func([S],[k],[]),remove_hardware_wallet:e.Func([G],[P],[]),rename_sub_account:e.Func([C],[K],[])})},wt=({IDL:e})=>[],Ye=({IDL:e})=>{const t=e.Principal,n=e.Record({user:t}),o=e.Nat,a=e.Vec(e.Nat8),s=e.Record({to:t,metadata:e.Opt(a),from:t,amount:o}),r=e.Variant({ok:e.Null,err:e.Variant({InsufficientBalance:e.Null,InvalidSource:t,Unauthorized:e.Null})}),i=e.Variant({removeOperator:e.Null,setOperator:e.Null}),d=e.Record({owner:t,operators:e.Vec(e.Tuple(t,i))}),l=e.Variant({ok:e.Null,err:e.Variant({Unauthorized:e.Null,InvalidOwner:t})});return e.Service({getBalance:e.Func([n],[e.Opt(o)],[]),getBalanceInsecure:e.Func([n],[e.Opt(o)],["query"]),getCommunityChestValueInsecure:e.Func([],[e.Opt(e.Nat)],["query"]),getInfo:e.Func([],[e.Record({balance:e.Nat,maxLiveSize:e.Nat,heap:e.Nat,size:e.Nat})],["query"]),getNumberOfAccounts:e.Func([],[e.Nat],[]),getTokenInfo:e.Func([],[e.Record({fee:e.Nat,totalMinted:e.Nat,totalSupply:e.Nat,totalTransactions:e.Nat})],["query"]),getTotalMinted:e.Func([],[e.Nat],[]),mint:e.Func([e.Principal,e.Nat],[],[]),transfer:e.Func([s],[r],[]),updateOperator:e.Func([e.Vec(d)],[l],[])})},bt=({IDL:e})=>[],Te=({IDL:e})=>{const t=e.Text,o=e.Text,a=e.Variant({principal:e.Principal,address:o}),c=e.Record({token:t,owner:a,spender:e.Principal}),r=e.Nat,i=r,d=e.Variant({InvalidToken:t,Other:e.Text}),u=d,l=e.Variant({ok:i,err:u}),m=e.Vec(e.Nat8),N=e.Record({token:t,subaccount:e.Opt(m),allowance:r,spender:e.Principal}),g=e.Record({token:t,user:a}),q=e.Variant({ok:r,err:d}),w=t,v=o,x=e.Variant({ok:v,err:u}),F=e.Text,k=e.Nat32,P=e.Variant({fungible:e.Record({decimals:e.Nat8,metadata:e.Opt(e.Vec(e.Nat8)),name:e.Text,symbol:e.Text}),nonfungible:e.Record({metadata:e.Opt(e.Vec(e.Nat8))})}),C=e.Variant({ok:P,err:u}),W=e.Record({to:a,metadata:e.Opt(e.Vec(e.Nat8))}),J=e.Vec(e.Nat8),Z=e.Record({to:a,token:t,notify:e.Bool,from:a,memo:J,subaccount:e.Opt(m),amount:r}),Y=e.Variant({ok:r,err:e.Variant({CannotNotify:o,InsufficientBalance:e.Null,InvalidToken:t,Rejected:e.Null,Unauthorized:o,Other:e.Text})});return e.Service({acceptCycles:e.Func([],[],[]),allowance:e.Func([c],[l],["query"]),approve:e.Func([N],[],[]),availableCycles:e.Func([],[e.Nat],["query"]),balance:e.Func([g],[q],["query"]),bearer:e.Func([w],[x],["query"]),extensions:e.Func([],[e.Vec(F)],["query"]),getAllowances:e.Func([],[e.Vec(e.Tuple(k,e.Principal))],["query"]),getMinter:e.Func([],[e.Principal],["query"]),getRegistry:e.Func([],[e.Vec(e.Tuple(k,v))],["query"]),getTokens:e.Func([],[e.Vec(e.Tuple(k,P))],["query"]),metadata:e.Func([w],[C],["query"]),mintNFT:e.Func([W],[k],[]),setMinter:e.Func([e.Principal],[],[]),supply:e.Func([w],[l],["query"]),transfer:e.Func([Z],[Y],[])})},vt=({IDL:e})=>[e.Principal];var $e=Object.defineProperty,Oe=Math.pow,Qe=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t,n)=>(Qe(e,typeof t!="symbol"?t+"":t,n),n);const Xe=h(710),ie=e=>ke(e)&&e.length===64?{address:e}:{principal:_.Principal.fromText(e)},Ae=(e,t)=>{const n=Buffer(`
tid`),o=new Uint8Array([...n,..._.Principal.fromText(e).toUint8Array(),...se(t)]);return _.Principal.fromUint8Array(o).toText()},xe=e=>{var t=[..._.Principal.fromText(e).toUint8Array()],n=t.splice(0,4);return I(n)!==I(Buffer(`
tid`))?{index:0,canister:e,token:Ae(e,0)}:{index:Ge(t.splice(-4)),canister:_.Principal.fromUint8Array(t).toText(),token:e}},O={governance:Je,ledger:We,hzld:Ye,nns:Ze,ext:Te,default:Te};class Ie{constructor(t,n){z(this,"_mapIdls",{[T]:O.ledger,[Ue]:O.governance,[je]:O.nns,"qz7gu-giaaa-aaaaf-qaaka-cai":O.hzld}),z(this,"_metadata",{[T]:{name:"ICP",symbol:"ICP",decimals:8,type:"fungible"},"qz7gu-giaaa-aaaaf-qaaka-cai":{name:"HZLD",symbol:"HZLD",decimals:0,type:"fungible"}}),z(this,"_identity",!1),z(this,"_host",!1),z(this,"_agent",!1),z(this,"_canisters",{}),n&&(this._identity=n),t&&(this._host=t),this._makeAgent()}idl(t,n){return this._mapIdls[t]=n,this}setIdentity(t){return t?this._identity=t:this._identity=!1,this._makeAgent(),this}setHost(t){return t?this._host=t:this._host=!1,this._makeAgent(),this}canister(t,n){if(!n)this._mapIdls.hasOwnProperty(t)?n=this._mapIdls[t]:n=O.default;else if(typeof n=="string")if(O.hasOwnProperty(n))n=O[n];else throw new Error(n+" is not a preloaded IDL");return this._canisters.hasOwnProperty(t)||(this._canisters[t]=p.Actor.createActor(n,{agent:this._agent,canisterId:t})),this._canisters[t]}token(t,n){t||(t=T);var o=xe(t);n||(this._mapIdls.hasOwnProperty(o.canister)?n=this._mapIdls[o.canister]:n=O.ext);var a=this.canister(o.canister,n);return{call:a,fee:()=>new Promise((s,c)=>{switch(o.canister){case T:s(1e4);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":s(1);break;default:s(0);break}}),getMetadata:()=>new Promise((s,c)=>{if(this._metadata.hasOwnProperty(o.canister))s(this._metadata[o.canister]);else switch(o.canister){default:a.metadata(o.token).then(r=>{typeof r.ok!="undefined"?typeof r.ok.fungible!="undefined"?s({name:r.ok.fungible.name,symbol:r.ok.fungible.symbol,decimals:r.ok.fungible.decimals,metadata:r.ok.fungible.metadata,type:"fungible"}):s({metadata:r.ok.nonfungible.metadata,type:"nonfungible"}):typeof r.err!="undefined"?c(r.err):c(r)}).catch(c);break}}),getBearer:()=>new Promise((s,c)=>{a.bearer(o.token).then(r=>{typeof r.ok!="undefined"?s(r.ok):typeof r.err!="undefined"?c(r.err):c(r)}).catch(c)}),getBalance:(s,c)=>new Promise((r,i)=>{var d;switch(o.canister){case T:be.getAccountBalance(s).then(u=>{r(u)});break;case"qz7gu-giaaa-aaaaf-qaaka-cai":d={user:_.Principal.fromText(c)},a.getBalanceInsecure(d).then(u=>{var l=u.length===0?0:u[0];r(l)}).catch(i);break;default:d={user:ie(s),token:o.token},a.balance(d).then(u=>{typeof u.ok!="undefined"?r(u.ok):typeof u.err!="undefined"?i(u.err):i(u)}).catch(i);break}}),getTransactions:(s,c)=>new Promise((r,i)=>{switch(o.canister){case T:be.getTransactionsByAccount(s).then(d=>{Array.isArray(d)||r([]);var u=[];d.map(l=>l.type!=="TRANSACTION"||l.status!=="COMPLETED"?!1:(u.push({from:l.account1Address,to:l.account2Address,amount:Number(l.amount)/Oe(10,8),fee:Number(l.fee)/Oe(10,8),hash:l.hash,timestamp:l.timestamp,memo:Number(l.memo)}),!0)),r(u)}).catch(i);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":default:r([]);break}}),transfer:(s,c,r,i,d,u,l)=>new Promise((f,m)=>{var R;switch(o.canister){case T:R={from_subaccount:[H(c!=null?c:0)],to:r,amount:{e8s:i},fee:{e8s:d},memo:u?Number(BigInt(u)):0,created_at_time:[]},a.send_dfx(R).then(N=>{f(!0)}).catch(m);break;case"qz7gu-giaaa-aaaaf-qaaka-cai":R={to:_.Principal.fromText(r),metadata:[],from:_.Principal.fromText(s),amount:i},a.transfer(R).then(N=>{typeof N.ok!="undefined"?f(!0):m(JSON.stringify(N.err))}).catch(m);break;default:R={token:t,from:{address:X(s,c!=null?c:0)},subaccount:[H(c!=null?c:0)],to:ie(r),amount:i,fee:d,memo:ce(u),notify:l},a.transfer(R).then(N=>{typeof N.ok!="undefined"?f(!0):m(JSON.stringify(N.err))}).catch(m);break}}),mintCycles:(s,c,r,i,d)=>new Promise((u,l)=>{switch(o.canister){case T:var f=ve(r),m=X(re,f),R={from_subaccount:[H(c!=null?c:0)],to:m,fee:{e8s:d},memo:Number(BigInt("0x50555054")),created_at_time:[],amount:{e8s:i}};a.send_dfx(R).then(N=>{var A={block_height:N,max_fee:{e8s:d},from_subaccount:[H(c!=null?c:0)],to_subaccount:[H(f)],to_canister:_.Principal.fromText(re)};a.notify_dfx(A).then(u).catch(l)}).catch(l);break;case"5ymop-yyaaa-aaaah-qaa4q-cai":l("WIP");break;default:l("Cycle topup is not supported by this token");break}})}}_makeAgent(){var t={};this._identity&&(t.identity=this._identity),this._host&&(t.host=this._host),this._agent=new p.HttpAgent(t)}}const De={connect:(e,t)=>new Ie(e!=null?e:"https://boundary.ic0.app/",t),decodeTokenId:xe,encodeTokenId:Ae,constructUser:ie,principalToAccountIdentifier:X,fromHexString:ce,toHexString:I,mnemonicToId:Ke,generateMnemonic:Xe.generateMnemonic}})();var Ne=exports,ne=fe.default;for(var he in ne)Ne[he]=ne[he];ne.__esModule&&Object.defineProperty(Ne,"__esModule",{value:!0})})();
